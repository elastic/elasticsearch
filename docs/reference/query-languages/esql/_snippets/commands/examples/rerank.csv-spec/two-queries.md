% This is generated by ESQL's AbstractFunctionTestCase. Do not edit it. See ../README.md for how to regenerate it.

```esql
FROM books METADATA _id, _score
| WHERE MATCH(description, "hobbit") OR MATCH(author, "Tolkien")
| SORT _score DESC
| LIMIT 100
| RERANK rerank_score = "hobbit" ON description, author WITH { "inference_id" : "test_reranker" }
| EVAL rerank_score=ROUND(rerank_score, 2), _score=ROUND(_score, 2)
| SORT rerank_score, _id
| LIMIT 3
| KEEP title, _score, rerank_score
```

| title:text | _score:double | rerank_score:double |
| --- | --- | --- |
| The Two Towers | 1.29 | 0.05 |
| Smith of Wooten Manor & Farmer Giles of Ham | 2.59 | 0.14 |
| Smith of Wootton Major & Farmer Giles of Ham | 2.59 | 0.14 |

[[troubleshooting-shards-capacity-issues]]
== Troubleshooting shards capacity health issues

****
AutoOps is now available!
 
AutoOps for {es} significantly simplifies cluster management with performance recommendations, resource utilization and cost insights, real-time issue detection and resolution paths. By analyzing hundreds of {es} metrics, your configuration, and usage patterns, AutoOps offers operational and monitoring insights that can substantially reduce administration time and hardware costs. AutoOps is 
https://www.elastic.co/guide/en/cloud/current/ec-autoops-regions.html[rolling out] in phases across Elastic Cloud Hosted regions and CSP. It will be automatically activated for your deployment, with no installation required. For more information, check https://www.elastic.co/guide/en/cloud/current/ec-autoops.html[Monitor with AutoOps].
****

{es} limits the maximum number of shards to be held per node using the
<<cluster-max-shards-per-node, `cluster.max_shards_per_node`>> and
<<cluster-max-shards-per-node-frozen, `cluster.max_shards_per_node.frozen`>> settings.
The current shards capacity of the cluster is available in the
<<health-api-response-details-shards-capacity, health API shards capacity section>>.

include::{es-ref-dir}/tab-widgets/troubleshooting/troubleshooting-shards-capacity-widget.asciidoc[]

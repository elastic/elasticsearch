[[release-notes-9.3.0]]
== 9.3.0

[[bug-fixes-9.3.0]]
[float]
=== Bug fixes

General::

* Fix Decision.Type serialization BWC. {es-pull}140199[#140199] 
* Introduce INDEX_SHARD_COUNT_FORMAT. {es-pull}137210[#137210] 
* Always prefer YES over NOT_PREFERRED when allocating unassigned shards. {es-pull}138464[#138464] 
* Disable _delete_by_query and _update_by_query for CCS/stateful. {es-pull}140301[#140301] 
* Avoiding creating DataStreamShardStats objects with negative timestamps. {es-pull}139854[#139854] 
* Support weaker consistency model for S3 MPUs. {es-pull}138663[#138663] 
* Ignore abort-on-cleanup failure in S3 repo. {es-pull}138569[#138569] 
* Suppress Azure SDK error logs. {es-pull}139729[#139729] 
* Overall Decision for Deciders prioritizes THROTTLE. {es-pull}140237[#140237] 
* Prevent NPE when generating snapshot metrics before initial cluster state is set. {es-pull}136350[#136350] 
* Allow relocation to NOT_PREFERRED node for evacuating shards. {es-pull}140197[#140197] 
Aggregations::

* Fix SearchContext CB memory accounting. {es-pull}138002[#138002] 
CCS::

* Set CPS index options only when not using PIT. {es-pull}137728[#137728] 
Codec::

* Binary doc values have stale value offset array if block contains all empty values. {es-pull}139922[#139922] 
Data streams::

* Exempt internal request markers from streams request param restrictions. {es-pull}139386[#139386] {es-issue}139367[#139367] 
Downsampling::

* Fix bug when downsampling exponential histograms with last value. {es-pull}139808[#139808] 
EQL::

* EQL: fix project_routing. {es-pull}139366[#139366] 
ES|QL::

* Fix interpolation for data points at bucket boundaries. {es-pull}139798[#139798] {es-issue}139732[#139732] 
* Addressing vector similarity concurrency issue with byte vectors. {es-pull}137883[#137883] {es-issue}137625[#137625] 
* TS Disallow renaming into timestamp prior to implicit use. {es-pull}137713[#137713] {es-issue}137655[#137655] 
* Use sub keyword block loader with ignore_above for text fields. {es-pull}140622[#140622] 
* ES|QL: fix Page.equals(). {es-pull}136266[#136266] 
* ES|QL: Fix wrong pruning of plans with no output columns. {es-pull}133405[#133405] 
* ES|QL: Validate multiple GROK patterns individually. {es-pull}137082[#137082] 
* Support date trunc in TS. {es-pull}138947[#138947] 
* ESQL: Prune InlineJoin right aggregations by delegating to the child plan. {es-pull}139357[#139357] {es-issue}138283[#138283] 
* ESQL: Fix extent reading when missing. {es-pull}140034[#140034] 
* ESQL: Aggressively free topn. {es-pull}140126[#140126] 
* Pushing down eval expression when it requires data access . {es-pull}136610[#136610] {es-issue}133462[#133462] 
* ES|QL: manage INLINE STATS count(*) on result sets with no columns. {es-pull}137017[#137017] 
* ES|QL: Change FUSE KEY BY to receive a list of qualifiedName. {es-pull}139071[#139071] 
* Do not use Min or Max as Top's surrogate when there is an outputField. {es-pull}138380[#138380] {es-issue}134083[#134083] 
* Fixing bug when handling 1d literal vectors. {es-pull}136891[#136891] {es-issue}136364[#136364] 
* Catch-and-rethrow TooComplexToDeterminizeException . {es-pull}137024[#137024] 
* No EsqlIllegalArgumentException for invalid window values. {es-pull}139470[#139470] 
* Do not skip a remote cluster base on the query's execution time status. {es-pull}138332[#138332] 
* Prune columns when using fork. {es-pull}137907[#137907] {es-issue}136365[#136365] 
* ESQL: Fix attribute only in full text function not found. {es-pull}137395[#137395] {es-issue}137396[#137396] 
* ES|QL - fix dense vector enrich bug. {es-pull}139774[#139774] {es-issue}137699[#137699] 
* ES|QL: support dot and parameters in FUSE GROUP BY. {es-pull}135901[#135901] 
* Don't allow MV_EXPAND prior to STATS with TS. {es-pull}136931[#136931] {es-issue}136928[#136928] 
* ES|QL: Fix aggregation on null value. {es-pull}139797[#139797] {es-issue}110257[#110257] {es-issue}137544[#137544] 
* ESQL: Fix metrics for took between 1 and 10 hours. {es-pull}139257[#139257] 
Engine::

* Fixes memory leak in BytesRefLongBlockHash. {es-pull}137050[#137050] {es-issue}137021[#137021] 
Indices APIs::

* Don't fail delete index API if an index is deleted during the request. {es-pull}138015[#138015] {es-issue}137422[#137422] 
Inference::

* Include rerank in supported tasks for IBM watsonx integration. {es-pull}140331[#140331] {es-issue}140328[#140328] 
Ingest node::

* Respect flexible field access pattern in geoip and ip_location processors. {es-pull}138728[#138728] 
Machine learning::

* Support chunking settings for sparse embeddings in custom service. {es-pull}138776[#138776] 
* Retry state save indefinitely. {es-pull}139668[#139668] 
* Add missing job_id filter to Anomaly Detection data deleter. {es-pull}138160[#138160] 
* Switch TextExpansionQueryBuilder and TextEmbeddingQueryVectorBuilder to return 400 instead of 500 errors . {es-pull}135800[#135800] 
* Fixing KDE evaluate() to return correct ValueAndMagnitude object. {es-pull}128602[#128602] {es-issue}127517[#127517] 
* Skip dataframes when disabled. {es-pull}137220[#137220] 
* Remove worst-case additional 50ms latency for non-rate limited requests. {es-pull}136167[#136167] 
* Add configurable max_batch_size for GoogleVertexAI embedding service settings. {es-pull}138047[#138047] 
* Add ElasticInferenceServiceDenseTextEmbeddingsServiceSettings to InferenceNamedWriteablesProvider. {es-pull}138484[#138484] 
* Preserve deployments with zero allocations during assignment planning. {es-pull}137244[#137244] {es-issue}137134[#137134] 
* Reject max_number_of_allocations > 1 for low-priority model deployments. {es-pull}140163[#140163] {es-issue}111227[#111227] 
Mapping::

* Fix index.mapping.use_doc_values_skippers defaults in serverless. {es-pull}139526[#139526] 
* Fixed inconsistency in the isSyntheticSourceEnabled flag. {es-pull}137297[#137297] 
* Don't store keyword multi fields when they trip ignore_above. {es-pull}132962[#132962] 
* Provide defaults for index sort settings. {es-pull}135886[#135886] {es-issue}129062[#129062] 
Relevance::

* Auto prefiltering for queries on dense semantic_text fields. {es-pull}138989[#138989] 
* Intercept filters to knn queries. {es-pull}138457[#138457] {es-issue}138410[#138410] 
* Delay automaton creation in BinaryDvConfirmedQuery to avoid OOM on queries against WildCard fields. {es-pull}136086[#136086] 
* Update Vector Similarity To Support BFLOAT16. {es-pull}139113[#139113] 
Rollup::

* Fixing _rollup/data performance for a large number of indices. {es-pull}138305[#138305] 
SQL::

* SQL: More friendly exceptions for validation errors. {es-pull}137560[#137560] 
* SQL: do not attempt to canonicalize InnerAggregate. {es-pull}136854[#136854] 
Search::

* Ensure integer sorts are rewritten to long sorts for BWC indexes. {es-pull}139293[#139293] {es-issue}139127[#139127] {es-issue}139128[#139128] 
Security::

* Consistently prevent using exclusion prefix on its own. {es-pull}139337[#139337] {es-issue}45504[#45504] 
* Always treat dash-prefixed expression as index exclusion. {es-pull}138467[#138467] 
TSDB::

* ESQL: Use DEFAULT_UNSORTABLE topN encoder for the TSID_DATA_TYPE. {es-pull}137706[#137706] 
Vector search::

* DiskBBQ - missing min competitive similarity check on tail docs. {es-pull}135851[#135851] 
* Disk bbq license enforcement. {es-pull}139087[#139087] 

[[features-enhancements-9.3.0]]
[float]
=== New features and enhancements

General::

* New Cloud Connect UI for self-managed installations.
  Adds Cloud Connect functionality to Kibana, which allows you to use cloud solutions like AutoOps and Elastic Inference Service in your self-managed Elasticsearch clusters.

* New Cloud Connect UI for self-managed installations.
  Adds Cloud Connect functionality to Kibana, which allows you to use cloud solutions like AutoOps and Elastic Inference Service in your self-managed Elasticsearch clusters.

* Simulate shards moved by explicit commands. {es-pull}136066[#136066] 
* Iterate directly over contents of `RoutingNode`. {es-pull}137694[#137694] 
* Allocation: add duration and count metrics for write load hotspot. {es-pull}138465[#138465] 
* Reapply "Track shardStarted events for simulation in DesiredBalanceComputer". {es-pull}135597[#135597] 
* Add a new setting for s3 API call timeout. {es-pull}138072[#138072] 
* Limit concurrent TLS handshakes. {es-pull}136386[#136386] 
* S3 compareAndExchange using conditional writes. {es-pull}139228[#139228] 
* Use common retry logic for GCS. {es-pull}138553[#138553] 
* Add `ThreadWatchdog` to `ClusterApplierService`. {es-pull}134361[#134361] 
* Disk usage don't include synthetic _id postings. {es-pull}138745[#138745] 
* Shard started reroute high priority. {es-pull}137306[#137306] 
* Allocation: add balancer round summary as metrics. {es-pull}136043[#136043] 
* Allow fast blob-cache introspection by shard-id. {es-pull}138282[#138282] 
* Report recent tasks updates when master starved. {es-pull}139518[#139518] 
* TransportGetBasicStatusAction runs on local. {es-pull}137567[#137567] 
Aggregations::

* Let terms queries rewrite to a filter on constant_keyword fields. {es-pull}139106[#139106] 
Authentication::

* Add in-response-to field to saml successful response. {es-pull}137599[#137599] {es-issue}128179[#128179] 
* Improve SAML error handling by adding metadata. {es-pull}137598[#137598] {es-issue}128179[#128179] 
* Additional DEBUG logging on authc failures. {es-pull}137941[#137941] 
Authorization::

* Add additional privileges to Kibana System role for `.endpoint-scripts-file*` indexes. {es-pull}139245[#139245] 
* Add privileges to Kibana System role for management of internal indexes in support of Elastic Defend features. {es-pull}138993[#138993] 
CCS::

* CPS usage telemetry support. {es-pull}137705[#137705] 
* CPS: Enable flatworld search and `project_routing` for `_msearch`. {es-pull}138822[#138822] 
* Do not assume we hear back from all linked projects when validating resolved index expressions for CPS. {es-pull}137916[#137916] 
* MRT should default to `true` for CPS searches. {es-pull}138105[#138105] 
* Add support for `project_routing` for `_search` and `_async_search`. {es-pull}137566[#137566] 
Codec::

* Remove feature flag to enable binary doc value compression. {es-pull}138524[#138524] 
* Simple bulk loading of compressed binary doc values. {es-pull}138541[#138541] 
* Enable large numeric blocks for TSDB codec in production. {es-pull}139503[#139503] 
* Improved bulk loading for binary doc values. {es-pull}138631[#138631] 
* Integrate stored fields format bloom filter with synthetic _id. {es-pull}138515[#138515] 
Data streams::

* Adding `match_only_text` subfield to `*.display_name` fields. {es-pull}136265[#136265] 
* Support choosing the downsampling method in data stream lifecycle. {es-pull}137023[#137023] 
Downsampling::

* Add new sampling method to the Downsample API. {es-pull}136813[#136813] 
EQL::

* EQL: enable CPS. {es-pull}137833[#137833] 
* EQL: accept project_routing as query parameter. {es-pull}138559[#138559] 
ES|QL::

* ESQL: introduce support for mapping-unavailable fields (Fork from #139417). {es-pull}140463[#140463] 
* ES|QL: Push down COUNT(*) BY DATE_TRUNC. {es-pull}138023[#138023] 
* Enable the TEXT_EMBEDDING function in non-snapshot build. {es-pull}136103[#136103] 
* ESQL: Timezone support in DATE_TRUNC, BUCKET and TBUCKET. {es-pull}137450[#137450] 
* ESQL: Fuse MV_MIN and MV_MAX and document process. {es-pull}138029[#138029] 
* ESQL: DateDiff timezone support. {es-pull}138316[#138316] 
* ES|QL: Release decay function. {es-pull}137830[#137830] 
* ES|QL: Late materialization after TopN (Node level). {es-pull}132757[#132757] 
* ESQL: Add time_zone request param support to KQL and QSTR functions. {es-pull}138695[#138695] 
* Feature/count by trunc with filter. {es-pull}138765[#138765] 
* ES|QL: Enable score function in release builds. {es-pull}136988[#136988] 
* ESQL: Enable nullify and fail unmapped resolution in tech-preview. {es-pull}140528[#140528] 
* Run aggregations on aggregate metric double with default metric. {es-pull}138647[#138647] {es-issue}136297[#136297] 
* ES|QL: Improve value loading for match_only_text mapping. {es-pull}137026[#137026] 
* ESQL: Push filters past inline stats. {es-pull}137572[#137572] 
* ES|QL: Let include_execution_metadata always return data, also in local only. {es-pull}137641[#137641] 
* Introduce usage limits for COMPLETION and RERANK. {es-pull}139074[#139074] 
* ESQL: Locale and timezone argument for date_parse. {es-pull}136548[#136548] {es-issue}132487[#132487] 
* ESQL: Fill in topn values if competitive. {es-pull}135734[#135734] 
* Add TOP_SNIPPETS function to return the best snippets for a field. {es-pull}138940[#138940] 
* Take TOP_SNIPPETS out of snapshot. {es-pull}139272[#139272] 
* Non-Correlated Subquery in FROM command. {es-pull}135744[#135744] 
* ESQL: Implement `network_direction` function. {es-pull}136133[#136133] 
* ES|QL - Remove vectors from _source when applicable. {es-pull}138013[#138013] 
* Inference command: support for CCS. {es-pull}139244[#139244] {es-issue}136860[#136860] 
* ESQL: Add support for Full Text Functions and Lucene Pushable Predicates for Lookup Join. {es-pull}136104[#136104] 
* Add optional parameters support to KQL function. {es-pull}135895[#135895] {es-issue}135823[#135823] 
* ESQL: introduce a new interface to declare functions depending on the `@timestamp` attribute. {es-pull}137040[#137040] {es-issue}136772[#136772] 
* Release CHUNK function as tech preview. {es-pull}138621[#138621] 
* ESQL: Multiple patterns for grok command. {es-pull}136541[#136541] {es-issue}132486[#132486] 
* ES|QL Update CHUNK to support chunking_settings as optional argument. {es-pull}138123[#138123] 
* Support extra output field in TOP function. {es-pull}135434[#135434] {es-issue}128630[#128630] 
* Support window functions in time-series aggregations. {es-pull}138139[#138139] 
* ESQL: Fix slowness in ValuesFromManyReader.estimatedRamBytesUsed. {es-pull}139397[#139397] 
* Add CHUNK function. {es-pull}134320[#134320] 
* ES|QL: Add MV_INTERSECTION Function. {es-pull}139379[#139379] 
* Enable new exponential histograms field type. {es-pull}138968[#138968] 
* Enable CCS tests for subqueries. {es-pull}137776[#137776] 
* ESQL: Pull `OrderBy` followed by `InlineJoin` on top of it. {es-pull}137648[#137648] 
* ES|QL - Avoid retrieving unnecessary fields on node-reduce phase. {es-pull}137920[#137920] {es-issue}134363[#134363] 
* Fix a validation message in TimeSeriesGroupByAll. {es-pull}139882[#139882] 
* Add `m` alias for `minute` duration literal. {es-pull}136448[#136448] {es-issue}135552[#135552] 
* ES|QL: support for parameters in LIKE and RLIKE. {es-pull}138051[#138051] 
* ESQL - Add planning detailed timing to profile information. {es-pull}138564[#138564] 
* Allow single fork branch. {es-pull}136805[#136805] {es-issue}135825[#135825] 
* ES|QL: Release CCS support for FORK. {es-pull}139630[#139630] 
* ESQL: Make field fusion generic. {es-pull}137382[#137382] 
* ES|QL - Add vector similarity functions to tech preview, allow pushdown of blockloader functions. {es-pull}139365[#139365] 
* ES|QL - KNN function option changes. {es-pull}138372[#138372] 
* Enable TDigest field mapper and ES|QL type. {es-pull}139607[#139607] 
* Release histogram data type. {es-pull}139703[#139703] 
* ES|QL completion command constant folding. {es-pull}138112[#138112] {es-issue}136863[#136863] 
Engine::

* Improve SingleValueMatchQuery performance. {es-pull}135714[#135714] 
* BlockSourceReader should always apply source filtering. {es-pull}136438[#136438] 
* Further simplify SingleValueMatchQuery. {es-pull}136195[#136195] 
Geo::

* Optimize geogrid functions to read points from doc-values. {es-pull}138917[#138917] 
Health::

* Add settings for health indicator shard_capacity thresholds. {es-pull}136141[#136141] {es-issue}116697[#116697] 
* Deterministic shard availability key order. {es-pull}138260[#138260] {es-issue}138043[#138043] 
Indices APIs::

* Add convenience API key param to remote reindex. {es-pull}135949[#135949] 
* Add small optimizations to `PUT _component_template` API. {es-pull}135644[#135644] 
Infra/Plugins::

* Add upgrade.rollbacks mapping to .fleet-agents system index. {es-pull}139363[#139363] {es-issue}6039[#6039] 
Infra/REST API::

* Cat API: added endpoint for Circuit Breakers. {es-pull}136890[#136890] 
Infra/Scripting::

* Bump mustache.java to 0.9.14. {es-pull}138923[#138923] 
Ingest node::

* Bump jruby/joni to 2.2.6. {es-pull}139075[#139075] 
* Add CEF processor to Ingest node. {es-pull}122491[#122491] 
Machine learning::

* Implementing the completion task type on EIS. {es-pull}137677[#137677] 
* Transition EIS auth polling to persistent task on a single node. {es-pull}136713[#136713] 
* Add NVIDIA support to Inference Plugin. {es-pull}132388[#132388] 
* Add Azure OpenAI chat completion support. {es-pull}138726[#138726] 
* Add "close_job" parameter to the stop datafeed API. {es-pull}138634[#138634] {es-issue}138010[#138010] 
* Add Embedding inference task type. {es-pull}138198[#138198] 
* Add daily task to manage .ml-state indices. {es-pull}137653[#137653] 
* Add cached tokens to Unified API response. {es-pull}136412[#136412] 
* Add Groq inference service. {es-pull}138251[#138251] 
* Add late chunking configuration for JinaAI embedding task settings. {es-pull}137263[#137263] 
* Implement OpenShift AI integration for chat completion, embeddings, and reranking. {es-pull}136624[#136624] 
* Add Google Model Garden's Meta, Mistral, Hugging Face and Ai21 providers support to Inference Plugin. {es-pull}135701[#135701] 
* Manage AD results indices. {es-pull}136065[#136065] 
* Require basic licence for the Elastic Inference Service. {es-pull}137434[#137434] 
Mapping::

* Simple bulk loading for binary doc values. {es-pull}137860[#137860] 
* AggregateMetricDouble fields should not build BKD indexes. {es-pull}138724[#138724] 
* Enable doc_values skippers. {es-pull}138723[#138723] 
  Doc_values skippers add a sparse index to doc_values fields, allowing efficient querying and filtering on a field without having to build a separate BKD or terms index.  These are now enabled automatically on any field configured with  and  if the index setting  is set to  (default , or  for TSDB indexes). TSDB indexes now default to using skippers in place of indexes for their , , and   fields, greatly reducing their on-disk footprint.  To disable skippers in TSDB indexes, set  to .

* Enable doc_values skippers. {es-pull}138723[#138723] 
  Doc_values skippers add a sparse index to doc_values fields, allowing efficient querying and filtering on a field without having to build a separate BKD or terms index.  These are now enabled automatically on any field configured with  and  if the index setting  is set to  (default , or  for TSDB indexes). TSDB indexes now default to using skippers in place of indexes for their , , and   fields, greatly reducing their on-disk footprint.  To disable skippers in TSDB indexes, set  to .

* Add index.mapping.nested_parents.limit and raise nested fields limit to 100. {es-pull}138961[#138961] 
* Improve no-op check in PUT _mapping API. {es-pull}138367[#138367] 
* Optionally ignore field when indexed field name exceeds length limit. {es-pull}136143[#136143] {es-issue}135700[#135700] 
* OTLP: store units in mappings. {es-pull}134709[#134709] 
* Improve block loader for source only runtime geo_point fields. {es-pull}135883[#135883] 
* Improve bulk loading of binary doc values. {es-pull}137995[#137995] 
* Use binary doc values for pattern_text args column. {es-pull}139466[#139466] 
* Use existing `DocumentMapper` when creating new `MapperService`. {es-pull}138489[#138489] 
Monitoring::

* Add missing fields in monitoring logstash mb template mapping. {es-pull}127053[#127053] 
Relevance::

* Semantic search CCS support when ccs_minimize_roundtrips=false. {es-pull}138982[#138982] 
* Feat: re-enable bfloat16 in semantic text. {es-pull}139347[#139347] 
*   Default semantic_text fields to ELSER on EIS when available. {es-pull}134708[#134708] 
* Adds Internal mechanisms and retriever for MMR based result diversification. {es-pull}135880[#135880] 
* Allow updating inference_id of semantic_text fields. {es-pull}136120[#136120] 
* Add chunk_rescorer usage to output of explain and profile for text_similarity_rank_retriever. {es-pull}137249[#137249] 
SLM::

* Move force merge from the downsmapling request to the ILM action. {es-pull}135834[#135834] 
* Support different downsampling methods through ILM. {es-pull}136951[#136951] 
SQL::

* SQL: Add project routing support to JDBC. {es-pull}138756[#138756] 
* SQL: enable CPS. {es-pull}138803[#138803] 
* SQL: add project_routing option. {es-pull}138718[#138718] 
Search::

* Speed up sorts on secondary sort fields. {es-pull}137533[#137533] 
* Can match search shard phase APM metric. {es-pull}136646[#136646] 
* Field caps to support project_routing also in the body of the request. {es-pull}138681[#138681] 
* Add time range bucketing attribute to APM took time latency metrics. {es-pull}135549[#135549] 
* Improve PIT context relocation. {es-pull}135231[#135231] 
* Can match phase coordinator duration APM metric . {es-pull}136828[#136828] 
* Coordinator phase duration APM metric attributes. {es-pull}137409[#137409] 
* Field caps transport changes to return for each original expression what it was resolved to. {es-pull}136632[#136632] 
* Use DV rewrites where possible in Keyword queries. {es-pull}137536[#137536] 
* Allows PIT to be cross project. {es-pull}137966[#137966] 
* Extend time range bucketing attributes to retrievers. {es-pull}136072[#136072] 
* Fetch search phase coordinator duration APM metric. {es-pull}136547[#136547] 
* Dfs query phase coordinator metric. {es-pull}136481[#136481] 
* Allows Cross Project for close PointInTime. {es-pull}138962[#138962] 
* Allows field caps to be cross project. {es-pull}137530[#137530] 
Security::

* Add audit log testing for cert-based cross-cluster authentication. {es-pull}137302[#137302] 
* Add periodic PKC JWK set reloading capability to JWT realm. {es-pull}136996[#136996] 
* Include Secure Setting Names and Keystore Modified Time in Reload API Response. {es-pull}138052[#138052] 
* Validate Certificate Identity provided in Cross Cluster API Key Certificate. {es-pull}136299[#136299] 
* Send cross cluster api key signature as header. {es-pull}135674[#135674] 
* Adds certificate identity field to cross-cluster API keys. {es-pull}134604[#134604] 
TSDB::

* ES|QL: Add TRANGE ES|QL function. {es-pull}136441[#136441] {es-issue}135599[#135599] 
* ESQL: Group by all optimization. {es-pull}139130[#139130] 
* ESQL: GROUP BY ALL with the dimensions output. {es-pull}138595[#138595] 
* Minimize doc values fetches in TSDBSyntheticIdFieldsProducer. {es-pull}139053[#139053] 
* Add ES93BloomFilterStoredFieldsFormat for efficient field existence checks. {es-pull}137331[#137331] 
* Use a new synthetic _id format for time-series datastreams. {es-pull}137274[#137274] 
* Use doc values skipper for _tsid in synthetic _id postings. {es-pull}138568[#138568] 
* ESQL: GROUP BY ALL. {es-pull}137367[#137367] 
* Add TDigest histogram as metric. {es-pull}139247[#139247] 
* Use doc values skipper for @timestamp in synthetic _id postings #138568. {es-pull}138876[#138876] 
* Late materialization of dimension fields in time-series. {es-pull}135961[#135961] 
* Add support for merges in ES93BloomFilterStoredFieldsFormat. {es-pull}137622[#137622] 
Transform::

* Preview index request. {es-pull}137455[#137455] 
Vector search::

* Add on-disk rescoring to disk BBQ. {es-pull}135778[#135778] 
* Add bfloat16 support to rank_vectors. {es-pull}139463[#139463] 
* Enable bfloat16 and on-disk rescoring for dense vectors. {es-pull}138492[#138492] 
* Use new bulk scoring dot product for max inner product. {es-pull}139409[#139409] 
* Allow semantic_text fields to use optional GPU indexing for HNSW and int8_hnsw. {es-pull}138999[#138999] 
* Add DirectIO bulk rescoring. {es-pull}135380[#135380] 
* Optimized native bulk dot product scoring for Int7. {es-pull}139069[#139069] 
* Support for centroid filtering for restrictive filters. {es-pull}137959[#137959] 
* Enable early termination for HNSW by default. {es-pull}130564[#130564] 
* GPU: Restrict GPU indexing to FLOAT element types. {es-pull}139084[#139084] 
* Optimized native bulk dot product scoring for Int7. {es-pull}138552[#138552] 
* Use the new merge executor for intra-merge parallelism. {es-pull}137853[#137853] 
* Remove gpu_vectors_indexing feature flag. {es-pull}139318[#139318] 
* Introduce an adaptive HNSW Patience collector. {es-pull}138685[#138685] 
* Adding base64 indexing for vector values. {es-pull}137072[#137072] 

[[breaking-changes-9.3.0]]
[float]
=== Breaking changes

* Disable cross-cluster functionality for `_fleet/_fleet_msearch`. {es-pull}136703[#136703] 
* Implement native synthetic source for normalized keywords. {es-pull}136915[#136915] 
* Disable cross-cluster functionality for `_fleet/_fleet_search`. {es-pull}136039[#136039] 

[[deprecations-9.3.0]]
[float]
=== Deprecations

Indices APIs::

* Add deprecation notice for max_size rollover condition. {es-pull}135765[#135765] {es-issue}130737[#130737] 
Infra/Logging::

* Deprecation message for lenient Boolean parsing. {es-pull}137885[#137885] 

[[known-issues-9.3.0]]
[float]
=== Known issues

Vector search::

* Add known issue for bbq_disk license check. {es-pull}139011[#139011] 
  The bbq_disk index format, licensed under the Enterprise subscription tier was introduced in 9.2.0 without appropriate license enforcement. This allowed users to create and use bbq_disk indices without an Enterprise license. This will be addressed in version 9.3.0. Upon upgrading to 9.3+ indices created on 9.2 will still be available for updates and queries, but new indices created on 9.3+ will require an Enterprise license.

* Add known issue for bbq_disk license check. {es-pull}139011[#139011] 
  The bbq_disk index format, licensed under the Enterprise subscription tier was introduced in 9.2.0 without appropriate license enforcement. This allowed users to create and use bbq_disk indices without an Enterprise license. This will be addressed in version 9.3.0. Upon upgrading to 9.3+ indices created on 9.2 will still be available for updates and queries, but new indices created on 9.3+ will require an Enterprise license.


[[other-9.3.0]]
[float]
=== Other changes

// Geo::

// 
* Bumps jts version to 1.20.0. {es-pull}138351[#138351] 
// Vector search::

// 
* Bump cuvs-java to 25.12. {es-pull}139747[#139747] 
// 
* GPU: add support for cosine with cuvs 2025.12. {es-pull}139821[#139821] 


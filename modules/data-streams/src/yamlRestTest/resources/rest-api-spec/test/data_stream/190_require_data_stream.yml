---
"Testing require_data_stream in index creation":
  - skip:
      version: " - 8.11.99"
      reason: "require_data_stream was introduced in 8.12.0"

  - do:
      indices.put_index_template:
        name: ds-template
        body:
          index_patterns: ds-*
          template:
            settings:
              number_of_shards:   1
              number_of_replicas: 0
            mappings:
              properties:
                field:
                  type: keyword
          data_stream: {}
          allow_auto_create: true

#  - do:
#      index:
#        index:  ds-test
#        require_data_stream: true
#        body:
#          '@timestamp': '2022-12-12'
#          foo: bar
#
#  - do:
#      index:
#        index:  index-test
#        require_data_stream: true
#        body:
#          '@timestamp': '2022-12-12'
#          foo: bar

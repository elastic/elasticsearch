---
"External version":

 - skip:
      version: " - 6.99.99"
      reason: types are required in requests before 7.0.0

 - do:
      index:
          index:          test_1
          id:             1
          body:           { foo: bar }
          version_type:   external
          version:        0

 - match:   { _version: 0 }

 - do:
      index:
          index:          test_1
          id:             1
          body:           { foo: bar }
          version_type:   external
          version:        5

 - match:   { _version: 5 }

 - do:
      catch:             conflict
      index:
          index:          test_1
          id:             1
          body:           { foo: bar }
          version_type:   external
          version:        5

 - do:
      catch:             conflict
      index:
          index:          test_1
          id:             1
          body:           { foo: bar }
          version_type:   external
          version:        0

 - do:
      index:
          index:          test_1
          id:             1
          body:           { foo: bar }
          version_type:   external
          version:        6

 - match:   { _version: 6}

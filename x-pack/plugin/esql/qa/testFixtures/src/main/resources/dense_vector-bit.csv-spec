retrieveBitVectorData
required_capability: dense_vector_agg_metric_double_if_version
required_capability: l2_norm_vector_similarity_function

FROM dense_vector
| KEEP id, bit_vector
| SORT id
;

id:l | bit_vector:dense_vector
0    | [13, 112]
1    | [45, 9]
2    | [127, 0]
3    | [88, 53]
4    | null
;

denseBitVectorWithEval
required_capability: dense_vector_agg_metric_double_if_version
required_capability: l2_norm_vector_similarity_function

FROM dense_vector
| EVAL v = bit_vector
| KEEP id, v
| SORT id
;

id:l | v:dense_vector
0    | [13, 112]
1    | [45, 9]
2    | [127, 0]
3    | [88, 53]
4    | null
;

denseBitVectorWithRenameAndDrop
required_capability: dense_vector_agg_metric_double_if_version
required_capability: l2_norm_vector_similarity_function

FROM dense_vector
| EVAL v = bit_vector
| RENAME v AS new_vector
| DROP float_vector, byte_vector, bit_vector
| SORT id
;

id:l | new_vector:dense_vector
0    | [13, 112]
1    | [45, 9]
2    | [127, 0]
3    | [88, 53]
4    | null
;


denseVectorAggregationFunctions
required_capability: dense_vector_agg_functions

from dense_vector
| stats count_all = count(*), count_vectors = count(bit_vector), present = present(bit_vector), absent = absent(bit_vector)
;

count_all:long | count_vectors:long | present:boolean | absent:boolean
5              | 4                  | true            | false
;

denseVectorCount
required_capability: dense_vector_agg_functions

from dense_vector
| stats count_vectors = count(bit_vector)
;

count_vectors:long
4               
;

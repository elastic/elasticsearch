youngestEmployees
required_capability: agg_top_map_support
FROM employees
| STATS youngest_employees = TOP(birth_date, 3, "desc"),
        youngest_employees_salaries = TOP(birth_date, 3, "desc", salary)
;

youngest_employees:date                                                        | youngest_employees_salaries:integer
[1965-01-03T00:00:00.000Z, 1964-10-18T00:00:00.000Z, 1964-06-11T00:00:00.000Z] | [37702, 25976, 45656]
;

youngestEmployeesByGender
required_capability: agg_top_map_support
FROM employees
| STATS youngest_employees = TOP(birth_date, 3, "desc"),
        youngest_employees_salaries = TOP(birth_date, 3, "desc", salary)
  BY    gender
| SORT gender
| KEEP gender, youngest_employees, youngest_employees_salaries
;

gender:keyword | youngest_employees:datetime                                                    | youngest_employees_salaries:integer
F              | [1964-10-18T00:00:00.000Z, 1964-06-02T00:00:00.000Z, 1963-03-21T00:00:00.000Z] | [25976, 56371, 43602]
M              | [1965-01-03T00:00:00.000Z, 1964-06-11T00:00:00.000Z, 1964-04-18T00:00:00.000Z] | [37702, 45656, 46595]
null           | [1963-06-07T00:00:00.000Z, 1963-06-01T00:00:00.000Z, 1961-05-02T00:00:00.000Z] | [48735, 45797, 61358]
;

oldestEmployees
required_capability: agg_top_map_support
FROM employees
| STATS oldest_employees = TOP(birth_date, 3, "asc"),
        oldest_employees_salaries = TOP(birth_date, 3, "asc", salary)
;

oldest_employees:date                                                          | oldest_employees_salaries:integer
[1952-02-27T00:00:00.000Z, 1952-04-19T00:00:00.000Z, 1952-05-15T00:00:00.000Z] | [71165, 66174, 54518]
;

oldestEmployeesByGender
required_capability: agg_top_map_support
FROM employees
| STATS oldest_employees = TOP(birth_date, 3, "asc"),
        oldest_employees_salaries = TOP(birth_date, 3, "asc", salary)
  BY    gender
| SORT gender
| KEEP gender, oldest_employees, oldest_employees_salaries
;

gender:keyword | oldest_employees:datetime                                                      | oldest_employees_salaries:integer
F              | [1952-04-19T00:00:00.000Z, 1952-05-15T00:00:00.000Z, 1952-06-13T00:00:00.000Z] | [66174, 54518, 62405]
M              | [1952-02-27T00:00:00.000Z, 1952-07-08T00:00:00.000Z, 1952-11-13T00:00:00.000Z] | [71165, 48233, 31897]
null           | [1953-01-23T00:00:00.000Z, 1953-11-07T00:00:00.000Z, 1954-06-19T00:00:00.000Z] | [73717, 31120, 56760]
;

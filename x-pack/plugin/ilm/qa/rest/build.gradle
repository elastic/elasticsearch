
apply plugin: 'elasticsearch.internal-yaml-rest-test'

dependencies {
  yamlRestTestImplementation project(':x-pack:qa')

  clusterModules project(xpackModule('ilm'))
}

restResources {
  restApi {
    include '_common', 'cluster', 'indices', 'index', 'snapshot', 'ilm', 'slm', 'health_report', 'capabilities'
  }
}

configurations {
  basicRestSpecs {
    attributes {
      attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, ArtifactTypeDefinition.DIRECTORY_TYPE)
    }
  }
}

artifacts {
  basicRestSpecs(new File(projectDir, "src/yamlRestTest/resources/rest-api-spec/test"))
}

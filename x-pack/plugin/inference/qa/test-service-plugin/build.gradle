
apply plugin: 'elasticsearch.base-internal-es-plugin'
apply plugin: 'elasticsearch.internal-java-rest-test'

esplugin {
  name 'inference-service-test'
  description 'A mock inference service'
  classname 'org.elasticsearch.xpack.inference.mock.TestInferenceServicePlugin'
}

dependencies {
  compileOnly project(':x-pack:plugin:core')
  compileOnly project(':x-pack:plugin:inference')
  compileOnly project(':x-pack:plugin:ml')
//  compileOnly testArtifact(project(xpackModule('core')))
  javaRestTestImplementation project(':x-pack:plugin:inference')
}

tasks.named("javaRestTest").configure {
  usesDefaultDistribution()
}

apply plugin: 'elasticsearch.internal-java-rest-test'

dependencies {
  javaRestTestImplementation("org.junit.jupiter:junit-jupiter-api:5.12.0")
  javaRestTestImplementation("org.junit.jupiter:junit-jupiter-params:5.12.0")
  javaRestTestRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:5.12.0")
  javaRestTestRuntimeOnly("org.junit.platform:junit-platform-launcher:1.12.0")
  javaRestTestRuntimeOnly("org.junit.platform:junit-platform-commons:1.12.0")
  javaRestTestRuntimeOnly("org.junit.platform:junit-platform-reporting:1.12.0")

  javaRestTestImplementation("net.jqwik:jqwik-api:1.9.2")
  javaRestTestCompileOnly("org.apiguardian:apiguardian-api:1.0.0")
  javaRestTestRuntimeOnly("net.jqwik:jqwik-engine:1.9.2")
}

tasks.named("javaRestTest").configure {
  useJUnitPlatform {
    includeEngines 'jqwik'
  }

  include '**/*Properties.class'
  include '**/*Test.class'
  include '**/*Tests.class'

  usesDefaultDistribution()
}

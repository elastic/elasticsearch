Metadata for the SPs can be generated by using the saml realm configurations in
`elasticsearch/x-pack/qa/saml-idp-tests/build.gradle` in a
local elasticsearch installation and running:

[source, sh]
--------------------
bin/elasticsearch-saml-metadata -realm <thenameoftherealm>
--------------------

The XML file then needs to be copied to /idp/shibboleth-idp/metadata and referenced in the configuration ( `metadata-providers.xml`) as

```
 <MetadataProvider id="someidhere"  xsi:type="FilesystemMetadataProvider" metadataFile="%{idp.home}/metadata/<thefilename>.xml"/>
```